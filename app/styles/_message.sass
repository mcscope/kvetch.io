.messages-container
  display: block

  // A few additional pixels are subtracted for style.
  height: calc(100vh - #{$message-input-height} - #{$navbar-height} - 8px)
  overflow: scroll


message
  display: inline-block
  position: relative

  margin: 6px 0

  border-radius: 2px
  border: 1px solid #efefef

  background-color: #fdfdfd
  max-width: 20em

  .message-body
    display: inline-block
    vertical-align: top

    padding: 12px 14px

    position: relative

    word-break: break-word

  .message-details
    display: block

    padding-right: 5px

    // Remove 1em space between elements.
    & > *
      display: inline-block
      vertical-align: middle

      font-size: 0.7em

    .message-created-at
      // REFACTOR: floats should be reserved for images wrapping around text.
      // Flexbox should sort all this inline-block work out.
      float: right
      margin-top: 8px
      margin-left: 1em

      font-variant: small-caps

  .message-avatar
    display: inline-block

    width: 25px
    height: 25px

    // TODO: host this locally!
    background-image: url("http://i.imgur.com/gN6cSlS.jpg")
    background-size: cover

    img
      display: block
      height: 100%

  .message-reference
    position: absolute
    top: 2px
    right: 2px
    z-index: 10

    opacity: 0.1

    &:hover
      text-decoration: none
      opacity: 1


  .message-images
    a
      display: block

    img
      display: block
      max-width: 200px
      max-height: 200px
      margin: 5px
      border: 1px solid rgba(0, 0, 0, 0.2)

  .message-yt
    iframe
      max-width: 400px
      max-height: 400px

@media(max-width: 40em)
  message .message-body
    max-width: 100vw

.new-message
  display: block

  position: fixed
  bottom: 0
  left: 0

  width: 100%
  min-height: $message-input-height

  background: #fff
  box-shadow: 0 0 30px rgba(174, 174, 174, 0.3)

  .message-body-text
    display: block
    height: 100%
    width: 100%

    font-size: $message-input-font-size

    border: none
    border-top: 1px solid #ddd

    padding: 5px 10px

    &:focus
      outline: none
